exports.ids=[8],exports.modules={WK1S:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"VocationalTestModule",(function(){return VocationalTestModule}));var common=__webpack_require__("ofXK"),router=__webpack_require__("tyNb"),core=__webpack_require__("fXoL"),vocational_test_service=__webpack_require__("xRp/"),ngx_bootstrap_progressbar=__webpack_require__("yyhP"),fesm2015_forms=__webpack_require__("3Pt+");function VocationalTestComponent_table_9_tbody_5_tr_1_Template(rf,ctx){if(1&rf){const _r11=core.Mc();core.Lc(0,"tr"),core.Lc(1,"div",12),core.Lc(2,"input",13),core.Sc("ngModelChange",(function VocationalTestComponent_table_9_tbody_5_tr_1_Template_input_ngModelChange_2_listener($event){core.ed(_r11);return core.Uc(2).$implicit._id=$event}))("change",(function VocationalTestComponent_table_9_tbody_5_tr_1_Template_input_change_2_listener(){core.ed(_r11);const r_r7=ctx.$implicit,p_r3=core.Uc(2).$implicit;return core.Uc().seleccionar(p_r3,r_r7)})),core.Kc(),core.Lc(3,"label",14),core.ld(4),core.Kc(),core.Jc(5,"br"),core.Kc(),core.Kc()}if(2&rf){const r_r7=ctx.$implicit,j_r8=ctx.index,ctx_r14=core.Uc(2),p_r3=ctx_r14.$implicit,i_r4=ctx_r14.index;core.xc(2),core.Yc("value",r_r7._id),core.Xc("ngModel",p_r3._id)("name","abc"+i_r4+j_r8),core.xc(2),core.md(r_r7.rpta)}}function VocationalTestComponent_table_9_tbody_5_Template(rf,ctx){if(1&rf&&(core.Lc(0,"tbody"),core.jd(1,VocationalTestComponent_table_9_tbody_5_tr_1_Template,6,4,"tr",11),core.Kc()),2&rf){const p_r3=core.Uc().$implicit;core.xc(1),core.Xc("ngForOf",p_r3.respuestas)}}function VocationalTestComponent_table_9_Template(rf,ctx){if(1&rf&&(core.Lc(0,"table",8),core.Lc(1,"thead"),core.Lc(2,"tr"),core.Lc(3,"p",9),core.ld(4),core.Kc(),core.Kc(),core.Kc(),core.jd(5,VocationalTestComponent_table_9_tbody_5_Template,2,1,"tbody",10),core.Jc(6,"hr"),core.Kc()),2&rf){const p_r3=ctx.$implicit,i_r4=ctx.index,ctx_r0=core.Uc();core.xc(4),core.od("",(ctx_r0.page-1)*ctx_r0.pageSize+i_r4+1,". ",p_r3.pregunta,""),core.xc(1),core.Xc("ngIf",p_r3.respuestas)}}function VocationalTestComponent_button_14_Template(rf,ctx){if(1&rf){const _r17=core.Mc();core.Lc(0,"button",15),core.Sc("click",(function VocationalTestComponent_button_14_Template_button_click_0_listener(){core.ed(_r17);return core.Uc().siguiente(1)})),core.ld(1,"Siguientes"),core.Kc()}}function VocationalTestComponent_button_15_Template(rf,ctx){if(1&rf){const _r19=core.Mc();core.Lc(0,"button",16),core.Sc("click",(function VocationalTestComponent_button_15_Template_button_click_0_listener(){core.ed(_r19);return core.Uc().finalizar()})),core.ld(1,"Finalizar"),core.Kc()}}class VocationalTestComponent{constructor(vcService,activeRouter,router){this.vcService=vcService,this.activeRouter=activeRouter,this.router=router,this.totalPreguntas=0,this.preguntas=[],this.activebtn=!0,this.respuestas=[]||!1,this.activeRouter.queryParamMap.subscribe(params=>{const{page:page}=params.params;this.page=Number(page),this.cargarPreguntas(page)})}ngOnInit(){}cargarPreguntas(page){this.vcService.cargarTests(page).subscribe(resp=>{this.preguntas=resp.preguntas,this.totalPreguntas=resp.total,this.pageSize=resp.pageSize,this.totalPreguntas<this.page*this.pageSize&&(this.activebtn=!1)})}seleccionar(p,r){const data={id:p.id,carrera:p.carrera,puntaje:r.puntos};this.respuestas.some((temp,i)=>{temp.id==p.id&&this.respuestas.splice(i,1)})||this.respuestas.push(data),localStorage.setItem("respuestas",JSON.stringify(this.respuestas))}atras(atras){this.activebtn=!0,this.page+=atras,this.router.navigate(["/test-vocacional"],{queryParams:{page:this.page}}),this.page<1&&(this.page=1,this.router.navigate(["/test-vocacional"],{queryParams:{page:1}}))}siguiente(sgte){this.page+=sgte,this.router.navigate(["/test-vocacional"],{queryParams:{page:this.page}}),(this.page-1)*this.pageSize>=this.totalPreguntas?(this.page-=sgte,this.router.navigate(["/test-vocacional"],{queryParams:{page:this.page}})):this.totalPreguntas<this.page*this.pageSize&&(this.activebtn=!1)}finalizar(){let result=[];this.respuestas.forEach((function(a){this[a.carrera]||(this[a.carrera]={carrera:a.carrera,puntaje:0},result.push(this[a.carrera])),this[a.carrera].puntaje+=a.puntaje}),Object.create(null));const resultado={nombres:"Tu carrera Per\xfa",carreras:result};console.log(resultado),this.vcService.crearResultado(resultado).subscribe(resp=>{console.log(resp),this.router.navigate(["tus_datos",resp.resultado._id])})}onWindowClose(event){event.preventDefault(),event.returnValue=!1}}VocationalTestComponent.\u0275fac=function VocationalTestComponent_Factory(t){return new(t||VocationalTestComponent)(core.Ic(vocational_test_service.a),core.Ic(router.a),core.Ic(router.d))},VocationalTestComponent.\u0275cmp=core.Cc({type:VocationalTestComponent,selectors:[["app-vocational-test"]],hostBindings:function VocationalTestComponent_HostBindings(rf,ctx){1&rf&&core.Sc("beforeunload",(function VocationalTestComponent_beforeunload_HostBindingHandler($event){return ctx.onWindowClose($event)}),!1,core.dd)},decls:19,vars:7,consts:[[2,"margin-top","8rem"],[3,"max","value"],[1,"text-nowrap"],[1,"wrapper"],["class","table table-borderless",4,"ngFor","ngForOf"],[1,"btn","btn-secondary",3,"click"],["class","btn btn-primary btn-lg",3,"click",4,"ngIf"],["class","btn btn-succes",3,"click",4,"ngIf"],[1,"table","table-borderless"],[1,"pregunta__parf"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"form-check","position"],["type","radio",1,"radio",3,"value","ngModel","name","ngModelChange","change"],[1,"label"],[1,"btn","btn-primary","btn-lg",3,"click"],[1,"btn","btn-succes",3,"click"]],template:function VocationalTestComponent_Template(rf,ctx){1&rf&&(core.Lc(0,"div",0),core.Lc(1,"h2"),core.ld(2,"Test de orientaci\xf3n vocacional"),core.Kc(),core.Jc(3,"hr"),core.Lc(4,"progressbar",1),core.Lc(5,"span",2),core.ld(6),core.Kc(),core.Kc(),core.Jc(7,"br"),core.Lc(8,"div",3),core.jd(9,VocationalTestComponent_table_9_Template,7,3,"table",4),core.Kc(),core.Lc(10,"div"),core.Lc(11,"button",5),core.Sc("click",(function VocationalTestComponent_Template_button_click_11_listener(){return ctx.atras(-1)})),core.ld(12,"Anteriores"),core.Kc(),core.ld(13," \xa0 "),core.jd(14,VocationalTestComponent_button_14_Template,2,0,"button",6),core.jd(15,VocationalTestComponent_button_15_Template,2,0,"button",7),core.Kc(),core.Jc(16,"br"),core.Jc(17,"br"),core.Jc(18,"br"),core.Kc()),2&rf&&(core.xc(4),core.Xc("max",ctx.totalPreguntas)("value",ctx.pageSize*ctx.page),core.xc(2),core.od("",ctx.pageSize*ctx.page," / ",ctx.totalPreguntas,""),core.xc(3),core.Xc("ngForOf",ctx.preguntas),core.xc(5),core.Xc("ngIf",ctx.activebtn),core.xc(1),core.Xc("ngIf",!ctx.activebtn))},directives:[ngx_bootstrap_progressbar.a,common.i,common.j,fesm2015_forms.l,fesm2015_forms.a,fesm2015_forms.f,fesm2015_forms.h],styles:[".wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(30em,10fr))}.pregunta__parf[_ngcontent-%COMP%]{color:#000;font-size:large}"]});const routes=[{path:"test-vocacional",component:VocationalTestComponent}];class VocationalTestRoutingModule{}VocationalTestRoutingModule.\u0275mod=core.Gc({type:VocationalTestRoutingModule}),VocationalTestRoutingModule.\u0275inj=core.Fc({factory:function VocationalTestRoutingModule_Factory(t){return new(t||VocationalTestRoutingModule)},imports:[[router.g.forChild(routes)],router.g]});class VocationalTestModule{}VocationalTestModule.\u0275mod=core.Gc({type:VocationalTestModule}),VocationalTestModule.\u0275inj=core.Fc({factory:function VocationalTestModule_Factory(t){return new(t||VocationalTestModule)},imports:[[common.b,VocationalTestRoutingModule,ngx_bootstrap_progressbar.b,fesm2015_forms.e]]})},"xRp/":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return VocationalTestService}));var _environments_environment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("AytR"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("fXoL"),_angular_common_http__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("tk/3");const base_url=_environments_environment__WEBPACK_IMPORTED_MODULE_0__.a.base_url;class VocationalTestService{constructor(http){this.http=http}crearParticipante(participante){return this.http.post(base_url+"/usuarios",participante)}cargarPreguntas(){return this.http.get(base_url+"/preguntas")}cargarTests(page){return this.http.get(`${base_url}/preguntas/tests?page=${page}`)}crearPregunta(pregunta){return this.http.post(base_url+"/preguntas",pregunta)}actualizarPregunta(pregunta){return this.http.put(`${base_url}/preguntas/${pregunta.id}`,pregunta)}borrarPregunta(id){return this.http.delete(`${base_url}/preguntas/${id}`)}crearRespuesta(id,respuesta){return this.http.put(`${base_url}/preguntas/respuesta/${id}`,respuesta)}actualizarRespuesta(respuesta){return this.http.put(`${base_url}/preguntas/respuesta/${respuesta.pid}/${respuesta._id}`,respuesta)}borrarRespuesta(pid,rid){return this.http.delete(`${base_url}/preguntas/respuesta/${pid}/${rid}`)}cargarCarreras(){return this.http.get(base_url+"/carreras")}cargarResultado(id){return this.http.get(`${base_url}/resultados/${id}`)}crearResultado(resultado){return this.http.post(base_url+"/resultados",resultado)}actualizarResultado(resultado){return this.http.put(`${base_url}/resultados/${resultado._id}`,resultado)}}VocationalTestService.\u0275fac=function VocationalTestService_Factory(t){return new(t||VocationalTestService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Pc(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b))},VocationalTestService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Ec({token:VocationalTestService,factory:VocationalTestService.\u0275fac,providedIn:"root"})},yyhP:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ProgressbarComponent})),__webpack_require__.d(__webpack_exports__,"b",(function(){return ProgressbarModule}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),ngx_bootstrap_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("lUod"),_angular_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("ofXK");function ProgressbarComponent_bar_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lc(0,"bar",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vc(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kc()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Uc();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xc("type",ctx_r0.type)("value",ctx_r0._value)}}function ProgressbarComponent_ng_template_1_bar_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lc(0,"bar",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ld(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kc()),2&rf){const item_r3=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xc("type",item_r3.type)("value",item_r3.value),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xc(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.md(item_r3.label)}}function ProgressbarComponent_ng_template_1_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.jd(0,ProgressbarComponent_ng_template_1_bar_0_Template,2,3,"bar",3),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Uc();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xc("ngForOf",ctx_r1._value)}}const _c0=["*"];class ProgressbarConfig{constructor(){this.animate=!1,this.max=100}}ProgressbarConfig.\u0275fac=function ProgressbarConfig_Factory(t){return new(t||ProgressbarConfig)},ProgressbarConfig.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ec)({factory:function ProgressbarConfig_Factory(){return new ProgressbarConfig},token:ProgressbarConfig,providedIn:"root"});class ProgressbarComponent{constructor(config){this.isStacked=!1,this.addClass=!0,this.bars=[],this._max=100,Object.assign(this,config)}set animate(value){this._animate=value,this.bars.forEach(b=>{b.animate=value})}set striped(value){this._striped=value,this.bars.forEach(b=>{b.striped=value})}set value(value){this.isStacked=Array.isArray(value),this._value=value}get isBs3(){return Object(ngx_bootstrap_utils__WEBPACK_IMPORTED_MODULE_1__.e)()}get max(){return this._max}set max(v){this._max=v,this.bars.forEach(bar=>{bar.recalculatePercentage()})}addBar(bar){bar.animate=this._animate,bar.striped=this._striped,this.bars.push(bar)}removeBar(bar){this.bars.splice(this.bars.indexOf(bar),1)}}ProgressbarComponent.\u0275fac=function ProgressbarComponent_Factory(t){return new(t||ProgressbarComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ic(ProgressbarConfig))},ProgressbarComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Cc({type:ProgressbarComponent,selectors:[["progressbar"]],hostVars:3,hostBindings:function ProgressbarComponent_HostBindings(rf,ctx){2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.yc("max",ctx.max),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ac("progress",ctx.addClass))},inputs:{animate:"animate",striped:"striped",value:"value",max:"max",type:"type"},ngContentSelectors:_c0,decls:2,vars:2,consts:[[3,"type","value",4,"ngIf"],[3,"ngIf"],[3,"type","value"],[3,"type","value",4,"ngFor","ngForOf"]],template:function ProgressbarComponent_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Wc(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.jd(0,ProgressbarComponent_bar_0_Template,2,2,"bar",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.jd(1,ProgressbarComponent_ng_template_1_Template,1,1,"ng-template",1)),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xc("ngIf",!ctx.isStacked),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xc(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xc("ngIf",ctx.isStacked))},directives:function(){return[_angular_common__WEBPACK_IMPORTED_MODULE_2__.j,BarComponent,_angular_common__WEBPACK_IMPORTED_MODULE_2__.i]},styles:["[_nghost-%COMP%] {\n      width: 100%;\n      display: flex;\n    }"]}),ProgressbarComponent.ctorParameters=()=>[{type:ProgressbarConfig}],ProgressbarComponent.propDecorators={animate:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.F}],striped:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.F}],type:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.F}],value:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.F}],max:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.y,args:["attr.max"]},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.F}],addClass:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.y,args:["class.progress"]}]};class BarComponent{constructor(el,progress,renderer){this.el=el,this.renderer=renderer,this.addClass=!0,this.percent=0,this.progress=progress}get type(){return this._type}set type(v){this._type=v,this.applyTypeClasses()}get value(){return this._value}set value(v){(v||0===v)&&(this._value=v,this.recalculatePercentage())}get setBarWidth(){return this.recalculatePercentage(),this.percent}get isBs3(){return Object(ngx_bootstrap_utils__WEBPACK_IMPORTED_MODULE_1__.e)()}ngOnInit(){this.progress.addBar(this)}ngOnDestroy(){this.progress.removeBar(this)}recalculatePercentage(){this.percent=+(this.value/this.progress.max*100).toFixed(2);const totalPercentage=this.progress.bars.reduce((function(total,bar){return total+bar.percent}),0);totalPercentage>100&&(this.percent-=totalPercentage-100)}applyTypeClasses(){if(this._prevType){const barTypeClass="progress-bar-"+this._prevType,bgClass="bg-"+this._prevType;this.renderer.removeClass(this.el.nativeElement,barTypeClass),this.renderer.removeClass(this.el.nativeElement,bgClass),this._prevType=null}if(this._type){const barTypeClass="progress-bar-"+this._type,bgClass="bg-"+this._type;this.renderer.addClass(this.el.nativeElement,barTypeClass),this.renderer.addClass(this.el.nativeElement,bgClass),this._prevType=this._type}}}BarComponent.\u0275fac=function BarComponent_Factory(t){return new(t||BarComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ic(_angular_core__WEBPACK_IMPORTED_MODULE_0__.u),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ic(ProgressbarComponent,1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ic(_angular_core__WEBPACK_IMPORTED_MODULE_0__.X))},BarComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Cc({type:BarComponent,selectors:[["bar"]],hostAttrs:["role","progressbar","aria-valuemin","0"],hostVars:15,hostBindings:function BarComponent_HostBindings(rf,ctx){2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.yc("aria-valuenow",ctx.value)("aria-valuetext",ctx.percent?ctx.percent.toFixed(0)+"%":"")("aria-valuemax",ctx.max),_angular_core__WEBPACK_IMPORTED_MODULE_0__.id("height","100","%")("width",ctx.setBarWidth,"%"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ac("progress-bar-animated",!ctx.isBs3&&ctx.animate)("progress-bar-striped",ctx.striped)("active",ctx.isBs3&&ctx.animate)("progress-bar",ctx.addClass))},inputs:{type:"type",value:"value"},ngContentSelectors:_c0,decls:1,vars:0,template:function BarComponent_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Wc(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vc(0))},encapsulation:2}),BarComponent.ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.u},{type:ProgressbarComponent,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.x}]},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.X}],BarComponent.propDecorators={type:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.F}],value:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.F}],setBarWidth:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.y,args:["style.width.%"]}],addClass:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.y,args:["class.progress-bar"]}]};class ProgressbarModule{static forRoot(){return{ngModule:ProgressbarModule,providers:[]}}}ProgressbarModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gc({type:ProgressbarModule}),ProgressbarModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Fc({factory:function ProgressbarModule_Factory(t){return new(t||ProgressbarModule)},imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_2__.b]]})}};